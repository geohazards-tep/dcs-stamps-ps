<?xml version="1.0" encoding="us-ascii"?>
<application xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" id="stamps-ps">
  <jobTemplates>
	<jobTemplate id="premaster_prep">
      <streamingExecutable>/application/premaster_prep/run_premaster_prep.sh</streamingExecutable>
 	<defaultParameters>
            <parameter id="orbit" title="Orbits files: for Envisat DOR or VOR, ERS ODR" abstract="Type of orbits files for focussing step with ROI_PAC" scope="runtime">ODR</parameter>
			<parameter id="looks" title="Look parameter" abstract="Look parameter (integer)" scope="runtime">4</parameter>
			<parameter id="firstline" title="First Line parameter" abstract="First Line parameter (integer)" scope="runtime">400</parameter>
			<parameter id="lastline" title="Last Line parameter" abstract="Last Line parameter (integer)" scope="runtime">4880</parameter>
			<parameter id="firstcol" title="First Column parameter" abstract="First Column parameter (integer)" scope="runtime">80</parameter>
			<parameter id="lastcol" title="Last Column parameter" abstract="Last Column parameter (integer)" scope="runtime">1100</parameter>			
            <parameter id="master" title="Candidate master product reference" abstract="Define the canditate master product reference" scope="runtime">https://catalog.terradue.com/noa-ers/search?uid=SAR_IM__0PXASI19960927_085849_00000017A015_00150_07519_9388.E2</parameter>
      </defaultParameters>
      <defaultJobconf>
      	<property id="ciop.job.max.tasks">1</property>
        <property id="mapred.task.timeout">9900000000</property>
    </defaultJobconf>
    </jobTemplate>
    <jobTemplate id="preprocess">
      <streamingExecutable>/application/preprocess/run_preprocess.sh</streamingExecutable>
 	<defaultParameters>
	  <parameter id="orbit" title="Orbits files: for Envisat DOR or VOR, ERS ODR" abstract="Type of orbits files for focussing step with ROI_PAC" scope="runtime">ODR</parameter>
	  <parameter id="looks" title="Look parameter" abstract="Look parameter (integer)" scope="runtime">1</parameter>
	  <parameter id="master" title="Candidate master product reference" abstract="Define the canditate master product reference" scope="runtime">https://catalog.terradue.com/noa-ers/search?uid=SAR_IM__0PXASI19960927_085849_00000017A015_00150_07519_9388.E2</parameter>
	</defaultParameters>
        <defaultJobconf>
          <property id="mapred.task.timeout">9900000000</property>
        </defaultJobconf>
    </jobTemplate>
    <jobTemplate id="master_select">
      <streamingExecutable>/application/master_select/run_master_select.sh</streamingExecutable>
	<defaultParameters>
	    <parameter id="master" title="Candidate master product reference" abstract="Define the canditate master product reference" scope="runtime">https://catalog.terradue.com/noa-ers/search?uid=SAR_IM__0PXASI19960927_085849_00000017A015_00150_07519_9388.E2</parameter>
	    <parameter id="orbit" title="Orbits files: for Envisat DOR or VOR, ERS ODR" abstract="Type of orbits files for focussing step with ROI_PAC" scope="runtime">ODR</parameter>
	</defaultParameters>
        <defaultJobconf>
	<property id="ciop.job.max.tasks">1</property>
        <property id="mapred.task.timeout">9900000000</property>
        </defaultJobconf>
    </jobTemplate>
    <jobTemplate id="ifg_gener">
      <streamingExecutable>/application/ifg_generation/run_ifgs.sh</streamingExecutable>
	<defaultParameters>
	  <parameter id="orbit" title="Orbits files: for Envisat DOR or VOR, ERS ODR" abstract="Type of orbits files for focussing step with ROI_PAC" scope="runtime">ODR</parameter>
	</defaultParameters>
        <defaultJobconf>
        <property id="mapred.task.timeout">9900000000</property>
        </defaultJobconf>
    </jobTemplate>
   <jobTemplate id="stamps_prep">
      <streamingExecutable>/application/stamps_prep/run_stamps_prep.sh</streamingExecutable>
	<defaultParameters>
	  <parameter id="orbit" title="Orbits files: for Envisat DOR or VOR, ERS ODR" abstract="Type of orbits files for focussing step with ROI_PAC" scope="runtime">ODR</parameter>
	</defaultParameters>	
	<defaultJobconf>
	<property id="ciop.job.max.tasks">1</property>
        <property id="mapred.task.timeout">9900000000</property>
        </defaultJobconf>
    </jobTemplate>
 <jobTemplate id="stamps_parallel">
      <streamingExecutable>/application/stamps_parallel/run_stamps_parallel.sh</streamingExecutable>
	<defaultJobconf>
        <property id="mapred.task.timeout">9900000000</property>
        </defaultJobconf>
    </jobTemplate>
<jobTemplate id="stamps_final">
      <streamingExecutable>/application/stamps_final/run_stamps_final.sh</streamingExecutable>
	<defaultJobconf>
	<property id="ciop.job.max.tasks">1</property>
        <property id="mapred.task.timeout">9900000000</property>
        </defaultJobconf>
  </jobTemplate>
  </jobTemplates>
  <workflow id="dcs-stamps-ps" title="StaMPS Permanent Scatterer for VO-1" abstract="StaMPS (Stanford Method for Persistent Scatterers) is a software package that implements an InSAR persistent scatterer (PS) method developed to work even in terrains devoid of man-made structures and/or undergoing non-steady deformation. This processing service is the StaMPS Permanent Scatterer (PS).">
    <workflowVersion>1.0</workflowVersion>
     <node id="node_premaster_prep">
      <job id="premaster_prep" />
      <sources>
         <source scope="runtime" id="slave" title="Slave product references of the SAR stack to process" abstract="Define the slave products reference to use with StaMPS PS" refid="string:list">https://catalog.terradue.com/noa-ers/search?uid=SAR_IM__0PXASI19930706_085842_00000017C096_00150_10315_9410.E1,https://catalog.terradue.com/noa-ers/search?uid=SAR_IM__0PXASI19990813_085840_00000017A045_00150_22549_9397.E2,https://catalog.terradue.com/noa-ers/search?uid=SAR_IM__0PXASI19961101_085850_00000017A016_00150_08020_9378.E2,https://catalog.terradue.com/noa-ers/search?uid=SAR_IM__0PXASI19980515_085842_00000017A032_00150_16036_9390.E2,https://catalog.terradue.com/noa-ers/search?uid=SAR_IM__0PXASI19980724_085842_00000017A034_00150_17038_9375.E2,https://catalog.terradue.com/noa-ers/search?uid=SAR_IM__0PXASI19980515_085842_00000017A032_00150_16036_9390.E2,https://catalog.terradue.com/noa-ers/search?uid=SAR_IM__0PXASI19990326_085841_00000017A041_00150_20545_9382.E2,https://catalog.terradue.com/noa-ers/search?uid=SAR_IM__0PXASI19950525_085848_00000017G146_00150_20178_9408.E1</source>
      </sources>
      <parameters/>
    </node>
   <node id="node_preprocess">
        <job id="preprocess" />
          <sources>
          <source refid="wf:node">node_premaster_prep</source>
          </sources>
          <parameters/>
      </node>
    <node id="node_master_select">
        <job id="master_select" />
          <sources>
          <source refid="wf:node">node_preprocess</source>
          </sources>
          <parameters/>
      </node>
      <node id="node_ifg_gener">
        <job id="ifg_gener" />
          <sources>
          <source refid="wf:node">node_master_select</source>
          </sources>
          <parameters/>
      </node>
      <node id="node_stamps_prep">
        <job id="stamps_prep" />
          <sources>
          <source refid="wf:node">node_ifg_gener</source>
          </sources>
          <parameters/>
      </node>
      <node id="node_stamps_parallel">
        <job id="stamps_parallel" />
          <sources>
          <source refid="wf:node">node_stamps_prep</source>
          </sources>
          <parameters/>
      </node>
      <node id="node_stamps_final">
        <job id="stamps_final" />
          <sources>
          <source refid="wf:node">node_stamps_parallel</source>
          </sources>
          <parameters/>
      </node>
    </workflow>
</application>
